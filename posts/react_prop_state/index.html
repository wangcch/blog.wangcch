<!DOCTYPE html>
<html lang="zh-cn" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="wangcch" />
	
	
	
	<title>React ç»„ä»¶æ•°æ®propä¸state ï½œ é‚£é‚£é‚£å‘€</title>
	
    
    
    <meta name="description" content="Raectç»„ä»¶çš„æ•°æ®åˆ†ä¸ºä¸¤ç§ï¼Œpropå’Œstateã€‚åŸºç¡€çŸ¥è¯†ï¼Œä½†æ˜¯ä½œè€…å†™å¤ªå¥½äº†ï¼Œå¿ä¸ä½åšä¸ªç¬”è®°ã€‚ æ¥è§¦è¿‡Vueçš„ï¼Œåº”è¯¥å¯¹propå’Œstateä¸é™Œç”Ÿï¼Œçˆ¶ç±»é€šè¿‡propå‘å­ç±»ä¼ é€’æ•°æ®ï¼Œstateæ˜¯Vu" />
    

    
    
    <meta name="keywords" content="Dave, wangcch, blog, wangcch.cc, é‚£å¹´è½½ä½ çš„åˆå¤, é‚£é‚£é‚£é‚£é‚£å‘€, é‚£é‚£é‚£å‘€" />
    

	
    
    <link rel="shortcut icon" href="https://blog.wangcch.cc/images/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://blog.wangcch.cc/css/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://blog.wangcch.cc/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://blog.wangcch.cc/css/highlight.css" />

    
    
</head>

<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/posts/">Archive</a>
            </li>
            
            <li>
                <a href="/tags/">Tags</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="https://blog.wangcch.cc/">
                    <span>é‚£é‚£é‚£å‘€</span>
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title">ä¸€ä¸ªå°ä¼™</p>
            <div class="my_socials">
                
                
                <a href="https://github.com/wangcch" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                
                <a href="https://twitter.com/_wangcch" title="twitter" target="_blank"><i class="ri-twitter-fill"></i></a>
                
                
                
                <a href="https://weibo.com/wangcch" title="weibo" target="_blank"><i class="ri-weibo-fill"></i></a>
                
                
                <a href="https://blog.wangcch.cc/index.xml" type="application/rss+xml" title="rss" target="_blank"><i
                        class="ri-rss-fill"></i></a>
            </div>
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2><a href='/posts/react_prop_state/'>React ç»„ä»¶æ•°æ®propä¸state</a></h2>
                        <span class="date">2018.08.14</span>
                    </div>
                    <div class="post_content markdown"><p>Raectç»„ä»¶çš„æ•°æ®åˆ†ä¸ºä¸¤ç§ï¼Œpropå’Œstateã€‚åŸºç¡€çŸ¥è¯†ï¼Œä½†æ˜¯ä½œè€…å†™å¤ªå¥½äº†ï¼Œå¿ä¸ä½åšä¸ªç¬”è®°ã€‚</p>
<!-- raw HTML omitted -->
<p>æ¥è§¦è¿‡Vueçš„ï¼Œåº”è¯¥å¯¹propå’Œstateä¸é™Œç”Ÿï¼Œçˆ¶ç±»é€šè¿‡propå‘å­ç±»ä¼ é€’æ•°æ®ï¼Œstateæ˜¯VuexçŠ¶æ€ç®¡ç†çš„çŠ¶æ€å€¼ã€‚Reactä¹Ÿå·®ä¸å¤šï¼Œpropæ˜¯åŒæ ·ç»„ä»¶çš„å¯¹å¤–æ¥å£ï¼Œä¸åŒæ˜¯stateæ˜¯ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ç®¡ç†ï¼Œç›¸å½“äºVueçš„dataã€‚ç®€å•æ¥è¯´å¯¹å¤–ç”¨propï¼Œå†…éƒ¨ç”¨stateã€‚ä¸”æ— è®ºpropæˆ–è€…stateçš„æ”¹å˜ï¼Œéƒ½å¯èƒ½å¼•èµ·ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</p>
<h2 id="prop">prop</h2>
<blockquote>
<p>åœ¨ React ä¸­ï¼Œ prop ( property çš„ç®€å†™)æ˜¯ä»å¤–éƒ¨ä¼ é€’ç»™ç»„ä»¶çš„æ•°æ®ï¼Œ ä¸€ä¸ª React ç»„ä»¶ é€šè¿‡å®šä¹‰è‡ªå·±èƒ½å¤Ÿæ¥å—çš„ prop å°±å®šä¹‰äº†è‡ªå·±çš„å¯¹å¤–å…¬å…±æ¥å£ ã€‚æ¯ä¸ª Reactç»„ä»¶éƒ½æ˜¯ç‹¬ç«‹å­˜åœ¨çš„æ¨¡å—ï¼Œç»„ä»¶ä¹‹å¤–çš„ä¸€åˆ‡éƒ½æ˜¯å¤–éƒ¨ä¸–ç•Œï¼Œå¤–éƒ¨ä¸–ç•Œå°±æ˜¯é€šè¿‡ prop æ¥å’Œç»„ä»¶å¯¹è¯çš„ ã€‚</p>
</blockquote>
<h3 id="propä¼ å€¼">propä¼ å€¼</h3>
<p>ä¾‹å¦‚ï¼šç»™DemoComponentç»„ä»¶ä¼ å€¼ï¼š</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">DemoComponent</span> <span class="nx">data</span><span class="o">=</span><span class="s2">&#34;demo&#34;</span> <span class="nx">loading</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="nx">marginTop</span><span class="o">:</span> <span class="mi">16</span> <span class="p">}}</span> <span class="o">/&gt;</span>
</code></pre></div><h3 id="propè¯»å–">propè¯»å–</h3>
<p>1.æ„é€ å‡½æ•°ä¼ å…¥</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">DemoComponent</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">constructor</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">props</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span>
      <span class="nx">loading</span><span class="o">:</span> <span class="nx">props</span><span class="p">.</span><span class="nx">loading</span> <span class="o">||</span> <span class="kc">false</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div><p>2.this</p>
<p>ç»„ä»¶å‡½æ•°å†…å¯ç›´æ¥è°ƒç”¨<!-- raw HTML omitted -->this.props<!-- raw HTML omitted -->è®¿é—®ã€‚</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">DemoComponent</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">demo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">}</span>

</code></pre></div><p>```js
render() {
const { data } = this.props;
return (
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->{data}<!-- raw HTML omitted --></p>
<pre><code> {/* &lt;p&gt;{this.props.data}&lt;/p&gt; */}
 {/* ç›´æ¥è°ƒç”¨ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ */}
&lt;/div&gt;
</code></pre>
<p>)
}</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">
### propTypes

ç”¨äºæ£€æŸ¥propsç±»å‹ï¼Œç›´è§‚æŸ¥çœ‹ç»„ä»¶æ”¯æŒé‚£äº›propï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†™åœ¨æ³¨é‡Šé‡Œé¢ã€‚å¦‚æœæ•°æ®ä¸ç¬¦åˆçº¦å®šè§„èŒƒä¼šæŠ¥å‡ºè­¦å‘Šâš ï¸ï¼Œä½†ä¸ä¼šå½±å“ä»£ç æ‰§è¡Œã€‚æ¨èåªç”¨äºå¼€å‘ç¯å¢ƒï¼Œé¿å…ä¼ å€¼çŠ¯é”™ã€‚

DEMO:

```js
class DemoComponent extends Component {
  ...
}
DemoComponent.propTypes = {
  data: propTypes.string.isRequired,  // stringç±»å‹ ä¸”å¿…å¡«
  loading: propTypes.bool             // booleanç±»å‹
}

</code></pre></div><p>è¯¦ç»†è¯´æ˜å¯è§-&gt;<a href="https://reactjs.org/docs/typechecking-with-proptypes.html">Typechecking With PropTypes</a></p>
<h2 id="state">state</h2>
<blockquote>
<p>é©±åŠ¨ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹çš„é™¤äº† propï¼Œè¿˜æœ‰ state, state ä»£è¡¨ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ ã€‚ ç”±äº React ç»„ä»¶ä¸èƒ½ä¿®æ”¹ä¼ å…¥çš„ propï¼Œæ‰€ä»¥éœ€è¦è®°å½•è‡ªèº«æ•°æ®å˜åŒ–ï¼Œå°±è¦ä½¿ç”¨ stateã€‚</p>
</blockquote>
<h3 id="åˆå§‹åŒ–state">åˆå§‹åŒ–state</h3>
<p>1.æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼Œå¦‚ä¸Šè¿°æ¡ˆåˆ—ï¼š</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">constructor</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">loading</span><span class="o">:</span> <span class="nx">props</span><span class="p">.</span><span class="nx">loading</span> <span class="o">||</span> <span class="kc">false</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>2.defaultProps</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">DemoComponent</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
<span class="nx">DemoComponent</span><span class="p">.</span><span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">laoding</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">}</span>
</code></pre></div><h3 id="è¯»å–äºæ›´æ–°state">è¯»å–äºæ›´æ–°state</h3>
<blockquote>
<p>åœ¨ä»£ç ä¸­ï¼Œé€šè¿‡ this.state å¯ä»¥è¯»å–åˆ°ç»„ä»¶çš„å½“å‰ stateã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ”¹å˜ç»„ ä»¶ state å¿…é¡»è¦ä½¿ç”¨ this.setState å‡½æ•°ï¼Œè€Œä¸èƒ½ç›´æ¥å»ä¿®æ”¹ this.stateã€‚</p>
</blockquote>
<p>DEMO:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">DemoComponent</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">demo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>  <span class="c1">// demo
</span><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="nx">data</span><span class="o">:</span> <span class="s2">&#34;changed&#34;</span>
    <span class="p">});</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>  <span class="c1">// changed
</span><span class="c1"></span>  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div><h2 id="å¯¹æ¯”">å¯¹æ¯”</h2>
<table>
<thead>
<tr>
<th>prop</th>
<th>state</th>
</tr>
</thead>
<tbody>
<tr>
<td>å®šä¹‰å¤–éƒ¨æ¥å£</td>
<td>è®°å½•å†…éƒ¨çŠ¶æ€</td>
</tr>
<tr>
<td>å¤–éƒ¨èµ‹å€¼</td>
<td>å†…éƒ¨èµ‹å€¼</td>
</tr>
<tr>
<td>å†…éƒ¨ä¸æ”¹å˜æ•°æ®ï¼ˆåªè¯»ï¼‰</td>
<td>ç»„ä»¶çŠ¶æ€å€¼ï¼ˆè¯»å†™ï¼‰</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>ä¸ç®¡æ˜¯Vueè¿˜æ˜¯Reactéƒ½ä¸æ¨èã€ä¸åº”è¯¥ç»„ä»¶å†…ç›´æ¥ä¿®æ”¹ä¼ å…¥çš„propså€¼ã€‚ä¹‹å‰å®ç°çš„propsæ•°æ®åŒå‘ä¼ é€’ï¼ŒåŸç†ä¹Ÿæ˜¯é€šè¿‡å­ç»„ä»¶çš„å‡½æ•°å›è°ƒï¼Œä¿®æ”¹çˆ¶ç»„ä»¶çš„å€¼ï¼Œä»è€Œæ”¹å˜çš„propsåŸå€¼ã€‚</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="å±€é™æ€§">å±€é™æ€§</h2>
<p>å•ä¸ªç»„ä»¶è¿˜å¯ä»¥ï¼Œæ•°æ®ä½è€¦åˆï¼Œåªå…³ç³»åˆ°ç»„ä»¶å†…éƒ¨ã€‚ä½†æ˜¯å¦‚æœæ˜¯ç±»ä¼¼å…¨å±€çŠ¶æ€ï¼Œå­ç»„ä»¶å­˜å‚¨è®°å½•ï¼Œçˆ¶ç»„ä»¶ä¹Ÿå­˜å‚¨è®°å½•ï¼Œæ•°æ®é‡å¤ã€‚é‡å¤ä¹‹åä¸€è‡´æ€§å°±å¾ˆéš¾å¾—åˆ°ä¿è¯ã€‚ç›¸åŒçš„çŠ¶æ€ï¼Œåˆ†åˆ«å­˜æ”¾åœ¨ä¸åŒç»„ä»¶ä¸­ï¼Œå¾ˆéš¾ç»Ÿä¸€ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä¸€ä¸ªå…¨å±€çŠ¶æ€æ¥åŒæ­¥ç®¡ç†è¿™äº›æ•°æ®ã€‚è®©å„ä¸ªç»„ä»¶ä¿æŒå’Œå…¨å±€çŠ¶æ€çš„ä¸€è‡´ï¼Œæ›´å®¹æ˜“æ§åˆ¶ã€‚è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦å…¨å±€çŠ¶æ€ç®¡ç† Flux å’Œ Redux ä¸­ Store çš„æ¦‚å¿µã€‚</p>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<p>ã€Šæ·±å…¥æµ…å‡ºReactå’ŒReduxã€‹ å‰å‡ å¤©ç¾¤é‡Œæœ‰äººæ¨èçš„ï¼Œæ­£å¥½ä¹Ÿéœ€è¦ä¸€æœ¬Reactä¹¦ï¼Œæ„Ÿè§‰è¿˜å¯ä»¥ã€‚</p>
<blockquote>
<p>å‚è€ƒï¼šã€Šæ·±å…¥æµ…å‡ºReactå’ŒReduxã€‹- Reactç»„ä»¶çš„æ•°æ®</p>
</blockquote>
</div>
                    <div class="post_footer">
                        
                        <div class="meta">
                            <div class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>
                                    
                                    <a href="https://blog.wangcch.cc/tags/react/">React</a>
                                    
                                    <a href="https://blog.wangcch.cc/tags/prop/">prop</a>
                                    
                                    <a href="https://blog.wangcch.cc/tags/state/">state</a>
                                    
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                
                <div id="disqus_thread"></div><br/>
<script>
  

  

  (function () {
    
    var d = document,
      s = d.createElement("script");
    s.src = "https://blog-natzanfkii.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript"
    >comments powered by Disqus.</a
  ></noscript
>

                
            </div>
        </div>
    </div>
    <a id="back_to_top" href="#" class="back_to_top"><i class="ri-arrow-up-s-line"></i></a>
    <footer class="footer">
    <div class="powered_by">
        <a href="https://wangcch.cc">ğŸ™†â€â™‚ï¸ @wangcch.</a>
        <a href="http://www.gohugo.io/">by Hugo</a>
    </div>

    <div class="footer_slogan">
        <span></span>
    </div>
</footer>
    <script src="https://blog.wangcch.cc/js/jquery-3.5.1.min.js"></script>
<link href="https://blog.wangcch.cc/css/fancybox.min.css" rel="stylesheet">
<script src="https://blog.wangcch.cc/js/fancybox.min.js"></script>
<script src="https://blog.wangcch.cc/js/zozo.js"></script>


<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>



</body>

</html>